<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<th:block
        th:replace="~{base :: layout(pageTitle=${pageTitle}, content=~{::content})}">
    <th:block th:fragment="content">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h1 class="h4">Clientes</h1>
            <a class="btn btn-primary" th:href="@{/admin/clients/new}">
                <i class="bi bi-person-plus"></i> Nuevo Cliente
            </a>
        </div>

        <div class="table-responsive">
            <table class="table align-middle table-striped">
                <thead>
                <tr>
                    <th>Nombre</th><th>Documento</th><th>Email</th><th>Activo</th><th></th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="c : ${clients}">
                    <td th:text="${c.firstName + ' ' + c.lastName}">Nombre Apellido</td>
                    <td th:text="${c.document}">123</td>
                    <td th:text="${c.user != null ? c.user.email : '-'}">email</td>
                    <td>
              <span class="badge" th:classappend="${c.active} ? 'bg-success' : 'bg-secondary'"
                    th:text="${c.active} ? 'Sí' : 'No'">Sí</span>
                    </td>
                    <td class="text-end">
                        <a class="btn btn-sm btn-outline-secondary" th:href="@{|/admin/clients/${c.id}/edit|}">
                            <i class="bi bi-pencil"></i> Editar
                        </a>
                        <a class="btn btn-sm btn-outline-warning ms-1" th:href="@{|/admin/clients/${c.id}/toggle|}">
                            <i class="bi bi-pause-circle"></i> Activar/pausar
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </th:block>
</th:block>
</html>
