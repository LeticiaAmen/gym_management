<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<th:block
        th:replace="~{base :: layout(pageTitle='Pagos', content=~{::content})}">
    <th:block th:fragment="content">
        <h1 class="h4 mb-3">Pagos</h1>
        <div class="table-responsive">
            <table class="table table-striped align-middle">
                <thead>
                <tr><th>Cliente</th><th>Fecha</th><th>Monto</th><th>Vence</th><th>Estado</th></tr>
                </thead>
                <tbody>
                <tr th:each="p : ${payments}">
                    <td th:text="${p.client.firstName + ' ' + p.client.lastName}">Nombre</td>
                    <td th:text="${p.paymentDate}">2024-01-01</td>
                    <td th:text="${#numbers.formatDecimal(p.amount,1,'POINT',2,'NONE')}">$1000.00</td>
                    <td th:text="${p.expirationDate}">2024-01-16</td>
                    <td>
              <span class="badge"
                    th:classappend="${p.paymentState.name() == 'UP_TO_DATE'} ? 'bg-success' :
                                    (${p.paymentState.name() == 'OVERDUE'} ? 'bg-danger' : 'bg-secondary')"
                    th:text="${p.paymentState}">UP_TO_DATE</span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </th:block>
</th:block>
</html>
